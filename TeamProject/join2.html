<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/join2Css.css">
    <script src="./js/jquery-3.7.1.min.js"></script>
    <script>
        $(function () {
            $('#id').on('input', function () {
                if ($('#id').val().length > 10 || $('#id').val().length < 4) {
                    $('span').eq(0).html('아이디는 4~10자리입니다').css({
                        'color': 'red',
                        'font-size': '8px'
                    })
                } else if ($('#id').val() == JSON.parse(localStorage.getItem('id'))) {
                    $('span').eq(0).html('중복되는 아이디입니다.').css({
                        'color': 'red',
                        'font-size': '8px'
                    })
                } else {
                    $('span').eq(0).html('적합한 아이디입니다.').css({
                        'color': 'blue',
                        'font-size': '8px'
                    })
                }
            })
            $('#pw').on('input', function () {
                if ($('#pw').val().length > 14 || $('#pw').val().length < 8) {
                    $('span').eq(1).html('비밀번호는 8~14자리입니다').css({
                        'color': 'red',
                        'font-size': '8px'
                    })
                } else {
                    $('span').eq(1).html('적합한 비밀번호입니다.')
                        .css({
                            'color': 'blue',
                            'font-size': '8px'
                        })
                }
            })
            $('#pwRe').on('input', function () {
                if ($('#pw').val() === $('#pwRe').val()) {
                    $('span').eq(2).html('일치합니다.').css({
                        'color': 'blue',
                        'font-size': '8px'
                    })
                } else {
                    $('span').eq(2).html('일치하지 않습니다.').css({
                        'color': 'red',
                        'font-size': '8px'
                    })
                }
            })
            $('#name').focusout(function () {
                if ($('#name').val().length == 0) {
                    $('span').eq(3).html('이름을 작성해주세요.').css({
                        'color': 'red',
                        'font-size': '8px'
                    })
                } else {
                    $('span').eq(3).html('');
                }
            })
            $('#birs').focusout(function () {
                if ($('#birs').val() == '') {
                    $('span').eq(4).html('생년월일을 작성해주세요.').css({
                        'color': 'red',
                        'font-size': '8px'
                    })
                } else {
                    $('span').eq(4).html('');
                }
            })
            $('#email').focusout(function () {
                if ($('#email').val() == '') {
                    $('span').eq(5).html('메일을 작성해주세요.').css({
                        'color': 'red',
                        'font-size': '8px'
                    })
                } else {
                    $('span').eq(5).html('');
                }
            })
            $('button').click(function () {
                if ($('#pw').val() === $('#pwRe').val() && $('#id').val().length < 11 && $(
                        '#id').val().length > 3 && $('#pw').val().length < 15 && $('#pw').val()
                    .length > 7 && $('#email').val() != '' && $('#birs').val() != '') {
                    let cof = confirm('정말로 회원가입 하시겠습니까?')
                    if (cof == true) {
                        alert('회원가입 완료.')
                        localStorage.setItem('id', JSON.stringify($('#id').val()))
                        localStorage.setItem('pw', JSON.stringify($('#pw').val()))
                        localStorage.setItem('name', JSON.stringify($('#name').val()))
                        localStorage.setItem('email', JSON.stringify($('#email').val()))
                        localStorage.setItem('birs', JSON.stringify($('#birs').val()))
                        setTimeout(function () {
                            location.href = 'join3.html';
                        }, 0);
                    }
                } else {
                    alert('잘못된 양식입니다.')
                }
            })
        })
    </script>
</head>

<body>
    <form action="">
        <div class="backg">
            <table>
                <tr>
                    <td colspan="2" style="height: 80px;">
                        <div class="title">
                            <h2>회원정보</h2>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td rowspan="2">
                        ID
                    </td>
                    <td>
                        <div class="id">
                            <input type="id" id="id">

                        </div>
                    </td>
                <tr>
                    <td><span style="font-size : 8px">아이디는 4~10자리입니다</span></td>
                </tr>


                </tr>
                <tr>
                    <td rowspan="2">
                        PW
                    </td>
                    <td>
                        <div class="pw">
                            <input type="password" id="pw">
                        </div>
                    </td>
                <tr>
                    <td>
                        <span style="font-size : 8px"> 비밀번호는 8~14자리입니다</span>
                    </td>
                </tr>
                </tr>
                <tr>
                    <td rowspan="2">
                        PW:RE
                    </td>
                    <td>
                        <div class="pwRe">
                            <input type="password" id="pwRe">
                        </div>
                    </td>
                <tr>
                    <td> <span></span></td>
                </tr>
                </tr>
                <tr>
                    <td rowspan="2">
                        NICK-NAME
                    </td>
                    <td>
                        <div class="name">
                            <input type="text" id="name">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><span></span></td>
                </tr>

                <tr>
                    <td rowspan="2">
                        BIRTHDAY
                    </td>
                    <td>
                        <div class="birs">
                            <input type="date" id="birs">

                        </div>
                    </td>
                </tr>
                <tr>
                    <td> <span></span></td>
                </tr>
                <tr>
                    <td rowspan="2">
                        E-MAIL
                    </td>
                    <td>
                        <div class="email"><input type="email" id="email">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><span></span></td>
                </tr>
                <tr>
                    <td colspan="2" style="height: 80px;">
                        <div class="go">
                            <button>회원가입</button>
                        </div>
                    </td>
                </tr>

            </table>
        </div>

    </form>
    <script>
        console.log(JSON.parse(localStorage.getItem('id')));
        console.log(JSON.parse(localStorage.getItem('pw')));
        console.log(JSON.parse(localStorage.getItem('email')));
        console.log(JSON.parse(localStorage.getItem('birs')));
        console.log(JSON.parse(localStorage.getItem('name')));
        // localStorage.removeItem('id')
    </script>
</body>

</html>